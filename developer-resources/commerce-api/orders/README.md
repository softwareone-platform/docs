# Orders

An Order is a request made by a Buyer to create/update an agreement with a one-time purchase or/and set of subscriptions. There are 3 types of Orders.

* Purchase - A purchase order is the first order created in the lifecycle of an Agreement. The purchase order is always the first order and there is only even 1 within an agreement.
* Change - A change order is a request to update the agreement. There can be multiple change orders in an agreement.
* Termination - A termination order is a request to terminate the agreement or terminate a specific subscription within the agreement. There can be multiple termination orders.

| Field                        | Type                       | Constraints                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------------------------- | -------------------------- | ---------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`id`**                     | string                     | <p><code>READONLY</code> </p><p><code>IDX</code></p>                         | <p>Primary order identifier </p><p></p><p>Example: <code>ORD-5542-1187-3130-0991</code></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **`href`**                   | string                     | `READONLY`                                                                   | <p>Relative reference to object on API (always <code>/commerce/orders/{id}</code>) </p><p></p><p>Example: <code>/commerce/orders/ORD-5542-1187-3130-0991</code></p>                                                                                                                                                                                                                                                                                                                                                                              |
| **`type`**                   | string                     | <p><code>FINAL</code> </p><p><code>IDX</code></p><p><code>enum</code></p>    | <p>Specified on creation of order, cannot be updated. </p><p></p><p>Example: <code>Purchase</code></p>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **`status`**                 | string                     | <p><code>READONLY</code></p><p> <code>IDX</code></p><p><code>enum</code></p> | Example: `Processing`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **`externalIds`**            | ExternalIds                | <p><code>OPTIONAL</code> </p><p><code>IDX</code></p>                         | <p>External IDs for either client/vendor/distributor </p><p></p><p>Example: <code>{ "client": "abc-123", "operations": "SO-1234-1234-1111" }</code></p>                                                                                                                                                                                                                                                                                                                                                                                          |
| **`notes`**                  | string                     | `OPTIONAL`                                                                   | <p>Contains initial customer notes added by Buyer during purchase process. Buyer can edit and add notes at any time for all order statuses. Managed by client. Not used by vendor extensions. </p><p></p><p>Example: "<code>Order of 2 subs for 2 ppl from accounting dept</code>."</p>                                                                                                                                                                                                                                                          |
| **`statusNotes`**            | Message Object             | `OPTIONAL`                                                                   | <p>Notes added during status change by vendor or vendor extensions to indicate reason of order failure or status change. Should be shown on order screen (as part of template or standalone). </p><p></p><p>Example: <code>{ "id": "E001234", "message": "Adobe cannot provision your subscription" }</code></p>                                                                                                                                                                                                                                 |
| **`error`**                  | Message Object             | `OPTIONAL MARKUP`                                                            | <p>Standard error object. Means some error appeared on parameters validation, which can include markup.<br>Used to indicate validation error by vendor or vendor extension during order validation.<br>Should be reflected in purchase wizard while parameters validation and on the parameters and the items screens of order.<br>Should behave like errors in parametes, i.e. reset on order status changes. </p><p></p><p>Example: <code>{ "id": "E001234", "message": "Order has incompatible items - eductation and goverment" }</code></p> |
| **`agreement`**              | Ref\<Agreement>            | <p><code>FINAL</code> </p><p><code>IDX</code></p>                            | <p>The agreement represents an instance of a relationship between Seller, Buyer, and Licensee. It may refer to one-time purchases or/and set of subscriptions. </p><p></p><p>Example: <code>{ "id": "AGR-2119-4550-8674-5962", "href": "/commerce/agreements/AGR-2119-4550-8674-5962", "name": "Microsoft Office 365 NCE E1", "icon": null }</code></p>                                                                                                                                                                                          |
| **`authorization`**          | Ref\<Authorization>        | <p><code>READONLY</code><br><code>FINAL</code> </p><p><code>IDX</code></p>   | <p>Reference to <a href="https://softwareone.atlassian.net/wiki/spaces/GPTEAM/pages/5236359188">Authorization</a> object which was used for ther order. </p><p></p><p>Example: <code>{ "id": "AUT-1234-4567", "href": "/authorization/ATH-1234-45678", "name": "Salesforce Enterprise License" }</code></p>                                                                                                                                                                                                                                      |
| **`listing`**                | Ref\<Listing>              | <p><code>READONLY</code><br><code>FINAL</code> </p><p><code>IDX</code></p>   | Reference to [Listing](https://softwareone.atlassian.net/wiki/spaces/GPTEAM/pages/5236457608) which was used for the order Example: `{ "id": "LST-1234-1234" }`                                                                                                                                                                                                                                                                                                                                                                                  |
| **`template`**               | Ref\<Template>             |                                                                              |  Example: `{ "id": "TPL-1234-4444", "href": "/products/product/PRD-1234-1234-1234/templates/TPL-1234-4444", "name": "Succesful Activation" }`                                                                                                                                                                                                                                                                                                                                                                                                    |
| **`assignee`**               | Ref\<User>                 | `OPTIONAL`                                                                   |  `{ "id": "USR-1234-1234-1234", "name": "John Smith", "icon": "/static/users/USR-1234-1234-1234.icon.svg" }`                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **`audit`**                  | AuditObject                | <p><code>READONLY</code> </p><p><code>IDX</code></p>                         | <p>AuditObject is a dictionary with events that happened with the object, every event has “at<strong>”</strong> part which specifies the last time the event occurred, and “by” part which specifies who the actor executed the event. </p><p></p><p>Example:  <code>{ "created": { "at": "...", "by": { } }, "updated": { "at": "...", "by": { } }, "activated": { "at": "...", "by": { } }, "terminated": { "at": "...", "by": { } } }</code></p>                                                                                              |
| **`lines[]`**                | Line\[]                    | `OPTIONAL`                                                                   | An Order Lines contains the information about the specific item the Buyer is purchasing/updating. Example: `[ { "id": "ALI-1234-1234-1234-0001", "item": { "id": "ITM-1234-1234-1234-0021", "name": "Adobe Illustrator" }, "quantity": 10, "price": { ... }, "subscription": { "id": "SUB-1234-1234-1234" } }, { "id": "ALI-1234-1234-1234-0002", "item": { "id": "ITM-4444-4444-4444-0031", "name": "Adobe Photoshop" }, "quantity": 1, "price": { ... } } ]`                                                                                   |
| **`parameters.fulfillment`** | Order Parameter Object \[] | `OPTIONAL`                                                                   | An object that holds a concise definition of a parameter, its value, and any associated errors. Example: `[ { "id": "PRM-1234-1234-1234-1234", "name": "Tennant Id", "externalId": "tennant_id", "value": "69b73824-ce76-4866-ad47-b615ae9d8998" } ]`                                                                                                                                                                                                                                                                                            |
| **`parameters.ordering`**    | Order Parameter Object \[] | `OPTIONAL`                                                                   | An object that holds a concise definition of a parameter, its value, and any associated errors. Example: `[ { "id": "PRM-1234-1234-1234-0001", "name": "Microsoft Partner ID", "externalId": "msPartnerId", "constraints": { "readonly": false, "hidden": false, "required": true }, "value": "123456", "error": { "id": "E001234", "message": "Unknown MS Partner ID" } } ]`                                                                                                                                                                    |
| **`subscriptions`**          | Ref\<Subscription>\[]      | `IDX`                                                                        | List of subscription references, for these subscriptions that going to be added/updated by the order. On POST or PUT, lines property of subscription can be provided to reflect these changes (see more details in \<link>). Example: `[ { "id": "SUB-5374-9558-1697-7777" }, { "id": "SUB-5374-9558-1697-8888" }, { "id": "SUB-5374-9558-1697-9999" } ]`                                                                                                                                                                                        |
| `price`                      | Price                      |                                                                              | <p>This represents the total price for an Order and is displayed to the various actors. Object is READONLY</p><p> </p><p>Please note not all fields are visible to all actors. </p><p></p><p>Example: <code>{ "PPxY": 150, "PPxM": 12.50, "SPxY": 165, "SPxM": 13.75, "markup": 0.10, "margin": 0.11, "defaultMarkup": 0.15, "currency": "USD" }</code></p>                                                                                                                                                                                      |
