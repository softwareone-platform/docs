# How to generate an Azure EA access token

An access token, also known as an API Access Key, generated in the Azure Portal is required to allow the Client Portal to import cost and usage information for your Microsoft Azure subscriptions under an Enterprise Agreement (EA).

These tokens expire on a regular basis, so you will need to follow these instructions to generate a new token and add it to the Client Portal.

{% hint style="info" %}
**NOTE**: For Microsoft Azure EA only - The API access keys are required for activating Microsoft Azure under an Enterprise Agreement only. If you are activating Microsoft 365, this article does not apply. If you are activating Microsoft Azure under another licensing program (for example, CSP), this article does not apply.
{% endhint %}

***

### Prerequisites

To generate an API Access Key in the Azure Portal, the user generating the key must have the **Enterprise Administrator** or **Enrollment Admin** directory role assigned to their user account.

If the user does not have this level of access, the **Manage API Access Keys** section of the Azure Portal will not be visible, and the user will not be able to complete the steps.

{% hint style="info" %}
**NOTE**: Two other roles, **Department Owner** and **Account Owner**, are mentioned in the Microsoft documentation. Although API access keys can be generated by users with these roles, the generated keys will be insufficient for the client portal to operate correctly.
{% endhint %}

***

### Generating a primary or secondary API access key

Follow these steps to generate a primary or secondary API access key. You can also follow the [Microsoft documentation](https://learn.microsoft.com/en-us/azure/cost-management-billing/manage/enterprise-rest-apis#api-key-generation).

**To generate an access key**

1. Sign in to the [Azure Portal](https://portal.azure.com/) as an Enterprise Administrator and search for **Cost Management + Billing**.
2. In the left sidebar, select **Billing Scopes** and then choose the billing account that you want to work with.
3. In the left navigation menu, select **Usage + Charges**.
4. Select **Manage API Access Keys**.
5. Select **Generate** to generate the key.
6. Expand the section or select **Copy** to copy the API access key.
